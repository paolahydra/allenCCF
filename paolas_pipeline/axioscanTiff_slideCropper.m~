function axioscanTiff_slideCropper(image_folder, image_tag)

% directory to save the processed images -- can be the same as the above image_folder
% results will be put inside a new folder called 'processed' inside of this image_folder
save_folder = image_folder;     %change it if you want to
save_file_name = image_tag;     %change it if you want to

%% name of images, in order anterior to posterior or vice versa
% once these are downsampled they will be named ['original name' '_processed.tif']
image_file_names = dir([image_folder filesep image_tag '*.tif']); % get the contents of the image_folder
image_file_names = natsortfiles({image_file_names.name});
% image_file_names = {'slide no 2_RGB.tif','slide no 3_RGB.tif','slide no 4_RGB.tif'}; % alternatively, list each image in order


atlas_reference_size_um = [8000 11400];


%fix the fact that multichannel is not kept except for the first file in the list
% processImageNum = 6;
warning('off')

for f = 1:length(image_file_names)
    ordinal = regexp(image_file_names{f}, '\_', 'split');
    ordinal = str2double(ordinal{3});

    histology_figure = figure('Name','Histology Viewer');
    HistologyCropper_PP_2021Jan3(histology_figure, save_folder, image_file_names(f), atlas_reference_size_um, save_file_name, ordinal)
end

